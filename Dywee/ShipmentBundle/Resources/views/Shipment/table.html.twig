{# Dywee\ShipmentBundle\Resources\View\Shipment\table.html.twig #}

{%  extends "DyweeShipmentBundle::admin.html.twig" %}

{% block viewBody %}
    <div class="pull-right">
        <a href="{{ path('dywee_order_admin_table') }}" class="btn btn-default">Retour à la liste des commandes</a>
    </div>
    <div class="title-heading">
        <h1 class="text-center">Liste des Envois</h1>
    </div>
    <table class="table table-striped table-hover table-condensed">
        <thead>
        <tr>
            <th>#</th>
            <th>Ordre</th>
            <th>Date de départ</th>
            <th>Date d'update</th>
            <th>Date de finalisation</th>
            <th>Type de livraison</th>
            <th>tracingInfos</th>
            <th>state</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {%  for shipment in shipmentList %}
            <tr>
                <td><small>{{ shipment.id }}</small></td>
                <td><small>{{ shipment.sendingIndex }}</small></td>
                <td><small>{{ shipment.departureDate|date('d/m/Y') }}</small></td>
                <td><small>{{ shipment.updateDate|date('d/m/Y') }}</small></td>
                <td><small>{{ shipment.endDate|date('d/m/Y') }}</small></td>
                <td><small>{{ shipment.order.deliver.name }}</small></td>
                <td><small>{{ shipment.tracingInfos }}</small></td>
                <td><small>
                        {% if shipment.state == 0 %}
                            <span class="label label-default">Inactif</span>
                        {% elseif shipment.state == 1 %}
                            <span class="label label-info">Envoi préparé</span>
                        {% elseif shipment.state == 2 %}
                            <span class="label label-info">Pris en charge par le transporteur</span>
                        {% elseif shipment.state == 3 %}
                            <span class="label label-info">Arrivé en point relai</span>
                        {% elseif shipment.state == 4 %}
                            <span class="label label-warning">Retourné chez le livreur</span>
                        {% elseif shipment.state == 5 %}
                            <span class="label label-warning">Retourné chez l'expéditeur</span>
                        {% elseif shipment.state == 6 %}
                            <span class="label label-info">Enregistré chez mondial Relay</span>
                        {% elseif shipment.state == 7 %}
                            <span class="label label-default">NC</span>
                        {% elseif shipment.state == 8 %}
                            <span class="label label-default">NC</span>
                        {% elseif shipment.state == 9 %}
                            <span class="label label-success">Finalisé</span>
                        {% endif %}
                    </small>
                </td>
                <td><small> <a href="{{ path('dywee_shipment_view', {id: shipment.id}) }}" class="link-unstyled"><i class="fa fa-eye"></i> </a>
                        <a href="{{ path('dywee_shipment_note_download', {idShipment: shipment.id}) }}" class="link-unstyled"><i class="fa fa-print"></i> </a>
                        <a href="{{ path('dywee_shipment_label', {id: shipment.id}) }}" class="link-unstyled"><i class="fa fa-barcode"></i> </a>
                        {#<a href="{{ path('dywee_shipment_update', {id: shipment.id}) }}" class="link-unstyled"><i class="fa fa-pencil"></i> </a>#}
                        {#<a href="{{ path('dywee_shipment_delete', {id: shipment.id}) }}" class="link-unstyled"><i class="fa fa-trash-o"></i> </a>#}
                    </small>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}